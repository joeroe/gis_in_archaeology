<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.340">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>GIS in Archaeology [HS2022] - Raster analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./movement_models.html" rel="next">
<link href="./interpolation.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://umami.joeroe.io/script.js" data-website-id="ebb704bd-93ff-4e1f-84a7-774436c24726"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">GIS in Archaeology [HS2022]</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./information.html" rel="" target="">
 <span class="menu-text">Information</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html" rel="" target="">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="./introduction.html" rel="" target="">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Making maps</li>
        <li>
    <a class="dropdown-item" href="./theme_maps.html" rel="" target="">
 <span class="dropdown-text">Thematic maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./topographic_maps.html" rel="" target="">
 <span class="dropdown-text">Topographic maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./layout.html" rel="" target="">
 <span class="dropdown-text">Map layout</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./design.html" rel="" target="">
 <span class="dropdown-text">Map design</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Geospatial data</li>
        <li>
    <a class="dropdown-item" href="./data_management.html" rel="" target="">
 <span class="dropdown-text">Data management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data_sources.html" rel="" target="">
 <span class="dropdown-text">Obtaining geospatial data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./digitising.html" rel="" target="">
 <span class="dropdown-text">Georeferencing &amp; digitising</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./field_data.html" rel="" target="">
 <span class="dropdown-text">Field data collection</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Spatial analysis</li>
        <li>
    <a class="dropdown-item" href="./interpolation.html" rel="" target="">
 <span class="dropdown-text">Interpolation &amp; density estimation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./raster_analysis.html" rel="" target="">
 <span class="dropdown-text">Raster analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./movement_models.html" rel="" target="">
 <span class="dropdown-text">Modelling movement</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./review.html" rel="" target="">
 <span class="dropdown-text">Course review &amp; assignment workshop</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./assignments.html" rel="" target="">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./bibliography.html" rel="" target="">
 <span class="menu-text">Bibliography &amp; Further Reading</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./interpolation.html">Spatial analysis</a></li><li class="breadcrumb-item"><a href="./raster_analysis.html">Raster analysis</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Making maps</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./theme_maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Thematic maps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./topographic_maps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Topographic maps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./layout.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Map layout</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Map design</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Geospatial data</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data management</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_sources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Obtaining geospatial data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./digitising.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Georeferencing &amp; digitising</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./field_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Field data collection</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Spatial analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interpolation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interpolation &amp; density estimation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./raster_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Raster analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./movement_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modelling movement</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course review &amp; assignment workshop</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link active" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#practical" id="toc-practical" class="nav-link" data-scroll-target="#practical">Practical</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#raster-calculations" id="toc-raster-calculations" class="nav-link" data-scroll-target="#raster-calculations">Raster calculations</a></li>
  <li><a href="#landform-analysis" id="toc-landform-analysis" class="nav-link" data-scroll-target="#landform-analysis">Landform analysis</a></li>
  <li><a href="#visibility" id="toc-visibility" class="nav-link" data-scroll-target="#visibility">Visibility</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/joeroe/gis_in_archaeology/blob/main/raster_analysis.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/joeroe/gis_in_archaeology/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Raster analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this session we will look at a variety of common raster analysis techniques applied to elevation data, including calculations of terrain slope and aspect, hydrology and visibility.</p>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<p>None.</p>
</section>
<section id="practical" class="level2">
<h2 class="anchored" data-anchor-id="practical">Practical</h2>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>Data on Islay from <a href="./data_sources.html">obtaining geospatial data</a>:</p>
<ul>
<li><a href="islay/data/dem/nasadem_islay.tif">nasadem_islay.tif</a> – NASADEM elevation data</li>
<li><a href="islay/data/islay_coastlines.gpkg">islay_coastlines.gpkg</a> – digitised palaeo-coastlines and ice sheet</li>
</ul>
</section>
<section id="raster-calculations" class="level3">
<h3 class="anchored" data-anchor-id="raster-calculations">Raster calculations</h3>
<p>The <strong>Raster Calculator</strong> is a powerful tool that manipulate the values of a raster layer mathematically. It supports arithmetic operations (adding, subtracting, multiplying, etc.), a limited set of mathematical functions (min, max, abs), boolean logic (AND, OR), and conditional logic (IF). These are the building blocks of many forms of raster analysis which, for ease of use, have their own dedicated tool in QGIS. But compared to these ‘out of the box’ tools, a great benefit of the raster calculator is its flexibility. Suppose, for example, we are interested investigating what effect sea level change and glacialisation would have had on site visibility on Islay. The raster calculator allows us to take an input (present-day) DEM and quickly build models of the past landscape using our own assumptions.</p>
<ol type="1">
<li>If it isn’t already, <strong>reproject</strong> (<code>Raster → Projections → Warp (Reproject)...</code>) <code>nasadem_islay</code> to a <em>projected</em> coordinate system
<ul>
<li>Raster analysis tends to give inaccurate results with unprojected data, so from this point we will use the projected version of <code>nasadem_islay</code> for all analyses</li>
<li><code>EPSG:27700</code> is an appropriate projected coordinate system for this region</li>
<li>Select ‘bilinear’ as the <strong>resampling method</strong> (this is usually a good choice for DEMs)</li>
<li><strong>Q:</strong> What is the difference between a projected and unprojected coordinate system?</li>
</ul></li>
<li><strong>Rasterize</strong> (<code>Raster → Conversion</code>) the <code>islay_coastline</code> layers for 13000BP and 7000BP (the beginning and end of the Islay Mesolithic).
<ul>
<li>Make sure the rasters are in a projected CRS</li>
<li>Set the extent and resolution of the rasters to match <code>nasadem_islay</code></li>
<li>The resulting rasters should be coded as 0=sea and 1=land (you will need to unset ‘Nodata value’)</li>
</ul></li>
<li><strong>Rasterize</strong> the <code>islay_coastline</code> ice sheet layer for 13000 BP (as in step 2)
<ul>
<li>Let’s assume the ice sheet had a uniform thickness of 500 m – set this as the ‘burn-in value’</li>
</ul></li>
<li>Use the <strong>raster calculator</strong> to generate two new DEMs for 7000 BP and 13000 BP that reflect sea level change.
<ul>
<li>You can do this by multiplying <code>nasadem_islay</code> (the projected version) by your sea rasters, e.g.&nbsp;<code>"nasadem_islay@1" * "sea7000bp@1"</code> (adjust the layer names accordingly).</li>
<li><strong>Q:</strong> Why are there now large ‘cliffs’ along the coastline? Is this a problem for viewshed analysis?</li>
</ul></li>
<li>Use the <strong>raster calculator</strong> to add the ice sheet to the 13000 BP.
<ul>
<li>You can do this by simply adding the <code>nasadem_islay</code> and ice sheet rasters.</li>
</ul></li>
</ol>
<p>Finally, we should consider that today the island is mostly deforested, but in the Post-Glacial it was probably colonised by pine forest (<a href="https://earthwise.bgs.ac.uk/index.php/Pleistocene_and_Recent,_Northern_Highlands_of_Scotland">Johnstone &amp; Mykura 1989</a>). We could make the assumption that lower-lying areas were cleared of trees, but perhaps higher elevations (where there are no known sites) were still covered with mature pine (≈36 m high).</p>
<ol start="6" type="1">
<li>Use the <strong>raster calculator</strong> to create a <em>new layer</em> that models a tree-covered landscape in 7000 BP.
<ul>
<li>You can use an expression like this: <code>if ("dem7000bp@1" &gt; 80, "dem7000bp@1" + 36, dem7000bp@1")</code>.</li>
<li><strong>Q:</strong> In your own words, what does the expression above do?</li>
</ul></li>
</ol>
<p>Include maps of your landscape models for 13000 BP, 7000 BP, and 7000 BP with trees, in your portfolio.</p>
</section>
<section id="landform-analysis" class="level3">
<h3 class="anchored" data-anchor-id="landform-analysis">Landform analysis</h3>
<p>QGIS comes with a variety of built-in tools to calculate more complex derivitives of an elevation model, comparing each cell of a raster to its neighbours in order to characterise the shape of the land. We won’t use these in the visibility analysis, but they’ll come in useful later when we look at <a href="./predictive_models.html">predictive modelling</a>. These include:</p>
<ul>
<li><strong>Aspect</strong> – which direction the terrain is facing</li>
<li><strong>Slope</strong> - how steep the terrain is</li>
<li><strong>Roughness</strong>, <strong>TRI</strong> &amp; <strong>TPI</strong> – various measures of how uneven the terrain is</li>
</ul>
<p>These are found under <code>Raster → Analysis</code>. For the most part these are ‘one-click’ tools, but some of the additional options can be tweaked.</p>
<ol start="7" type="1">
<li>Calculate the <strong>aspect</strong> of <code>nasadem_islay</code> (projected, present-day).</li>
<li>Calculate the <strong>slope</strong> of <code>nasadem_islay</code> (projected, present-day).</li>
<li>Calculate the <strong>roughness</strong> of <code>nasadem_islay</code> (projected, present-day).</li>
</ol>
<p>In your portfolio, include maps showing each of these derived rasters, and a short text (c.&nbsp;250 words) described what they tell us about the island’s landscape.</p>
<!--
### Hydrological analysis
--->
</section>
<section id="visibility" class="level3">
<h3 class="anchored" data-anchor-id="visibility">Visibility</h3>
<p>Visibility was the first widely-used application of GIS in archaeology and remains popular. This is probably because of its (apparent) simplicity: all you need is a set of site locations and a DEM. Unfortunately, this technical simplicity hides a great deal of practical and theoretical complexity (<a href="https://eprints.soton.ac.uk/12483/">Wheatley &amp; Gillings 2000</a>) when applied to the way humans actually perceive landscapes. Nevertheless, it remains a useful tool.</p>
<ol start="10" type="1">
<li>Using the <strong>Viewshed</strong> tool in the <strong>Processing ToolBox</strong>, calculate a viewshed from a point of your choice on Islay.
<ul>
<li><strong>Q:</strong> What happens if you vary the <em>observer height</em> and <em>target height</em>? What do these mean?</li>
</ul></li>
</ol>
<p>For more complex visibility analysis than a single viewshed, we will need a plugin. Let’s take a look at <em>intervisibility</em> between multiple sites, for example.</p>
<ol start="11" type="1">
<li>Install “Visibility Analysis” plugin from the <strong>Plugin Manager</strong>.
<ul>
<li>This adds a new set of tools in the <strong>processing toolbox</strong>, under ‘visibility analysis’</li>
</ul></li>
<li>Use the <strong>create viewpoints</strong> tool to generate set of observation points representing <em>Mesolithic</em> sites on Islay.
<ul>
<li>You could do this using the <strong>Filter</strong> tool or the <strong>Select features by value…</strong> tool</li>
<li>You can leave all other options default (or feel free to adjust them)</li>
</ul></li>
<li>Using the <strong>Viewshed</strong> tool from <em>the plugin</em>, generate the <em>multiple viewshed</em> of all sites in 7000 BP (without trees).
<ul>
<li>After selecting your generated observation layer and DEM as input, you can leave all other options default.</li>
<li><strong>Q:</strong> What do darker and ligher areas on this map indicate?</li>
</ul></li>
<li>Generate the <strong>intervisibility network</strong> between all sites at 7000 BP (without trees).
<ul>
<li>Again, there is no need to change the default options (but feel free to).</li>
</ul></li>
<li>Repeat steps 13–14 for two scenarios: a) 7000 BP with trees; and b) 13000 BP (with ice sheet).
<ul>
<li><strong>Q:</strong> Describe the differences between the scenarios (if any).</li>
</ul></li>
</ol>
<p>Include maps summarising intervisibility in all three scenarios (7000 BP without trees, 7000 BP with trees, 13000 BP) in your portfolio.</p>
<p>The <strong>cumulative viewshed</strong> is a way to look at visibility across an entire landscape: it calculates the visibility of every raster cell from every other raster cell, then adds them up.</p>
<ol start="16" type="1">
<li>Use the <strong>visibility index</strong> tool to calculate the cumulative viewshed over Islay
<ul>
<li>This may take some time to process.</li>
<li><strong>Q:</strong> What do darker and lighter areas in a cumulative viewshed indicate?</li>
</ul></li>
</ol>
<p>Include a map with each cumulative viewshed in your portfolio.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./interpolation.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Interpolation &amp; density estimation</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./movement_models.html" class="pagination-link">
        <span class="nav-page-text">Modelling movement</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>