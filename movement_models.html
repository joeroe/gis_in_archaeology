<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>GIS in Archaeology [HS2022] - Modelling movement</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./review.html" rel="next">
<link href="./raster_analysis.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">GIS in Archaeology [HS2022]</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">
 <span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./information.html">
 <span class="menu-text">Information</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./schedule.html">
 <span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="./introduction.html">
 <span class="dropdown-text">Introduction</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Making maps</li>
        <li>
    <a class="dropdown-item" href="./theme_maps.html">
 <span class="dropdown-text">Thematic maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./topographic_maps.html">
 <span class="dropdown-text">Topographic maps</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./layout.html">
 <span class="dropdown-text">Map layout</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./design.html">
 <span class="dropdown-text">Map design</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Geospatial data</li>
        <li>
    <a class="dropdown-item" href="./data_management.html">
 <span class="dropdown-text">Data management</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data_sources.html">
 <span class="dropdown-text">Obtaining geospatial data</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./digitising.html">
 <span class="dropdown-text">Georeferencing &amp; digitising</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./field_data.html">
 <span class="dropdown-text">Field data collection</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li class="dropdown-header">Spatial analysis</li>
        <li>
    <a class="dropdown-item" href="./interpolation.html">
 <span class="dropdown-text">Interpolation &amp; density estimation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./raster_analysis.html">
 <span class="dropdown-text">Raster analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./movement_models.html">
 <span class="dropdown-text">Modelling movement</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./review.html">
 <span class="dropdown-text">Course review &amp; assignment workshop</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./assignments.html">
 <span class="menu-text">Assignments</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./bibliography.html">
 <span class="menu-text">Bibliography &amp; Further Reading</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Modelling movement</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">Introduction</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Making maps</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./theme_maps.html" class="sidebar-item-text sidebar-link">Thematic maps</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./topographic_maps.html" class="sidebar-item-text sidebar-link">Topographic maps</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./layout.html" class="sidebar-item-text sidebar-link">Map layout</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./design.html" class="sidebar-item-text sidebar-link">Map design</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Geospatial data</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_management.html" class="sidebar-item-text sidebar-link">Data management</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_sources.html" class="sidebar-item-text sidebar-link">Obtaining geospatial data</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./digitising.html" class="sidebar-item-text sidebar-link">Georeferencing &amp; digitising</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./field_data.html" class="sidebar-item-text sidebar-link">Field data collection</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Spatial analysis</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interpolation.html" class="sidebar-item-text sidebar-link">Interpolation &amp; density estimation</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./raster_analysis.html" class="sidebar-item-text sidebar-link">Raster analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./movement_models.html" class="sidebar-item-text sidebar-link active">Modelling movement</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./review.html" class="sidebar-item-text sidebar-link">Course review &amp; assignment workshop</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link active" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#practical" id="toc-practical" class="nav-link" data-scroll-target="#practical">Practical</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#calculating-a-cost-surface" id="toc-calculating-a-cost-surface" class="nav-link" data-scroll-target="#calculating-a-cost-surface">Calculating a cost surface</a></li>
  <li><a href="#modelling-least-cost-paths" id="toc-modelling-least-cost-paths" class="nav-link" data-scroll-target="#modelling-least-cost-paths">Modelling least-cost paths</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/joeroe/gis_in_archaeology/blob/main/movement_models.qmd" class="toc-action">View source</a></p><p><a href="https://github.com/joeroe/gis_in_archaeology/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Modelling movement</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>In this session we will look at terrain-based models of human movement, including least cost path analysis and site catchment analysis.</p>
<section id="prerequisites" class="level2">
<h2 class="anchored" data-anchor-id="prerequisites">Prerequisites</h2>
<ul>
<li>Verhagen, P., Nuninger, L., Groenhuijzen, M.R. (2019). Modelling of Pathways and Movement Networks in Archaeology: An Overview of Current Approaches. In: Verhagen, P., Joyce, J., Groenhuijzen, M. (eds) <em>Finding the Limits of the Limes</em>. Springer. <a href="https://doi.org/10.1007/978-3-030-04576-0_11" class="uri">https://doi.org/10.1007/978-3-030-04576-0_11</a></li>
</ul>
</section>
<section id="practical" class="level2">
<h2 class="anchored" data-anchor-id="practical">Practical</h2>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>From previous practicals:</p>
<ul>
<li>A DEM of Islay
<ul>
<li>This can be a modern DEM, or one you have modelled for a past time period.</li>
<li>e.g.&nbsp;<a href="islay/data/dem/nasadem_islay_7000bp.tif">nasadem_islay_7000bp.tif</a></li>
</ul></li>
<li><a href="islay/data/islay_sites.gpkg">islay_sites.gpkg</a> – Mesolithic and Later Prehistoric sites on Islay</li>
</ul>
</section>
<section id="calculating-a-cost-surface" class="level3">
<h3 class="anchored" data-anchor-id="calculating-a-cost-surface">Calculating a cost surface</h3>
<p>The first step in any movement analysis is to calculate a cost surface – a raster describing how much it would ‘cost’ to move through each cell of a landscape. Cost surfaces are calculated using a ‘cost function’. There are <a href="https://intarch.ac.uk/journal/issue36/herzog_index.html">many cost functions</a> to choose from and a large literature on how this effects subsequent movement modelling. The majority, but not all, derive the cost of movement from surface slope calculated from a DEM, under the basic assumption that people prefer to walk on flat ground. We will opt for one of the simplest, the ‘ox-cart function’:</p>
<p><span class="math inline">\(1 + (s/c)^2\)</span></p>
<p>Where <span class="math inline">\(s\)</span> is the slope <em>percentage</em> and <span class="math inline">\(c\)</span> is a ‘critical slope’ value beyond which moving is heavily penalised (we will use 10 for this).</p>
<ol type="1">
<li>Load or prepare a suitable DEM raster for Islay
<ul>
<li>It must use a projected coordinate system, e.g.&nbsp;<code>EPSG:27700</code></li>
<li>The sea <strong>must be marked as ‘NoData’</strong> (i.e.&nbsp;it should not be visible when you view the raster in QGIS). If necessary you can do this using the <strong>Clip Raster by Mask Layer…</strong> tool (<code>Raster</code> → <code>Extraction</code>), using a ocean/coast vector as your mask layer and assigning the ‘NoData’ value <code>-32768</code> (the lowest possible 16-bit integer).</li>
</ul></li>
<li>Calculate the <strong>percentage slope</strong> for this DEM using the <strong>Slope</strong> tool (<code>Raster</code> → <code>Analysis</code>)
<ul>
<li>Ensure ‘Slope expressed as percent instead of degrees’ is ticked.</li>
<li><strong>Q:</strong> Our subsequent models will be based <em>solely on slope</em>. Is this a good representation of human movement? What other factors could be important?</li>
</ul></li>
<li>Use the <strong>Raster Calculator</strong> to calculate a cost surface using the ox-cart function.
<ul>
<li>Your expression should be something like <code>1 + ("slope@1"/10)^2</code> (replacing <code>slope</code> with the name of your layer)</li>
<li>You will probably need to adjust the ‘Min’ and ‘Max’ values in the symbology to display it in a meaningful way</li>
<li><strong>Q:</strong> What has happened to the ‘NoData’ areas (i.e.&nbsp;the sea)? What effect will this have on models of movement on this surface?</li>
</ul></li>
</ol>
<p>Include a quick map showing your cost surface in your portfolio.</p>
</section>
<section id="modelling-least-cost-paths" class="level3">
<h3 class="anchored" data-anchor-id="modelling-least-cost-paths">Modelling least-cost paths</h3>
<p>A least-cost path is the optimal route between two points considering a given cost surface. This could represent any number of things—a route taken, a road, a river—depending on the cost surface.</p>
<p>QGIS doesn’t support least-cost path analysis natively, but it can through plugins and extensions. For more complex analyses, GRASS and SAGA—two other open source GIS which can, if installed, be used throught QGIS—offer the fullest features. But the ‘Least-Cost Path’ plugin for QGIS offers a quick and simple way to calculate the least-cost path between a start point and end point(s), so we’ll start with that.</p>
<!--
QGIS doesn't support least cost path analysis natively, but it can interface with GRASS, an older open source GIS that does.
Some tools for least cost path analysis can also be found in QGIS plugins and in SAGA (another open source GIS that can interface with QGIS), but we'll stick with GRASS.


4. Verify that GRASS is installed on your system and detected by QGIS.
    * If it is correctly installed and set up, you should see GRASS tools in the **processing toolbox**.
-->
<ol start="4" type="1">
<li>Install the <strong>Least-Cost Path</strong> plugin in QGIS.</li>
<li>The Least-Cost Path plugin cannot handle layers with negative values in. Use the <strong>raster calculator</strong> to remove any negative values from your cost surface raster.
<ul>
<li>You can use the expression <code>MAX ( 0, "oxcost@1" )</code> to set them to zero.</li>
<li>Because these cells are marked as NoData, this won’t actually have an effect on the analysis (yet).</li>
</ul></li>
<li>Reproject <code>islay_sites</code> to the same CRS as your DEM/cost surface rasters.</li>
<li><strong>Duplicate</strong> this reprojeced layer, ensuring that the two versions have different names.
<ul>
<li>We will use this to manage <em>start</em> and <em>end</em> points.</li>
</ul></li>
<li>Select <em>one</em> site in the start layer and <em>one or more</em> site in the end layer.</li>
<li>Use the <strong>Least Cost Path</strong> tool in the processing toolbox to calculate the least-cost path between two sites.
<ul>
<li>Set ‘cost raster layer’ to your cost surface.</li>
<li>Set ‘cost raster band’ to the only available option (Band1).</li>
<li>Choose the start and end point vector layers you prepared – ensuring the CRSs match.</li>
<li>Ensure ‘selected features only’ is checked.</li>
</ul></li>
<li>Repeat steps 7–9 with a few other sets of sites.
<ul>
<li><strong>Q:</strong> What does this tell us about how topography might have affected prehistoric movement across Islay? Include a map of calculated least-cost paths in your portfolio.</li>
</ul></li>
<li>Use the <strong>Fill NoData cells</strong> tool in the processing toolbox (<em>not</em> ‘Fill nodata’) to replace the sea in your cost surface with a) zero and b) a very high number (e.g.&nbsp;<code>999</code>).
<ul>
<li>These represent ‘easy seafaring’ and ‘hard seafaring’ scenarios respectively.</li>
</ul></li>
<li>Repeat steps 7–9 a few times for each ‘seafaring’ scenario.
<ul>
<li><strong>Q:</strong> Which do you think is more realistic?</li>
</ul></li>
</ol>
<p>Include a map of calculated least-cost paths for the two scenarios in your portfolio.</p>
<!--
### Calculating an accumulated cost surface (cost–distance)

### Modelling site catchment

* Simple catchment (buffer)
* Cost-surface catchment
--->


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./raster_analysis.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Raster analysis</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./review.html" class="pagination-link">
        <span class="nav-page-text">Course review &amp; assignment workshop</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>